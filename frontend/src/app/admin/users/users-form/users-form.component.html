<section class="users-form-page">
  <div class="card">
    <h2>Novo usuario</h2>

    <p *ngIf="errorMessage" class="message error">{{ errorMessage }}</p>
    <p *ngIf="successMessage" class="message success">{{ successMessage }}</p>

    <form (ngSubmit)="onSubmit()" #userForm="ngForm">
      <label for="name">Nome</label>
      <input
        id="name"
        name="name"
        type="text"
        [(ngModel)]="form.name"
        required />

      <label for="email">Email</label>
      <input
        id="email"
        name="email"
        type="email"
        [(ngModel)]="form.email"
        required />

      <label for="cpf">CPF</label>
      <input
        id="cpf"
        name="cpf"
        type="text"
        [(ngModel)]="form.cpf"
        required />

      <label for="phone">Telefone</label>
      <input
        id="phone"
        name="phone"
        type="text"
        [(ngModel)]="form.phone"
        required />

      <label for="password">Senha</label>
      <input
        id="password"
        name="password"
        type="password"
        [(ngModel)]="form.password"
        required />

      <label for="confirmPassword">Confirmar senha</label>
      <input
        id="confirmPassword"
        name="confirmPassword"
        type="password"
        [(ngModel)]="confirmPassword"
        required />

      <div class="actions">
        <a routerLink="/admin/users" class="btn cancel">Cancelar</a>
        <button type="submit" class="btn submit" [disabled]="isSubmitting || !userForm.form.valid">
          {{ isSubmitting ? 'Salvando...' : 'Cadastrar' }}
        </button>
      </div>
    </form>
  </div>
</section>
